(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,a){},496:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(67),c=t.n(r),s=t(10),m=t(503),o=t(504),i=t(505),u=t(502),d=t(500),E=t(25),p=t(26),f=t(499);function b(){var e=Object(E.a)(["\n\n\tborder: ",";\n\ttext-align: letf;\n\tpadding: 1rem;\n\tmargin: 1.5rem 0;\n\timg {\n\t\twidth: 100px;\n\t\tmargin: 0 auto;\n\t\n\t\t}\n"]);return b=function(){return e},e}function N(){var e=Object(E.a)(["\n\t h1 {\n\t color: ",";\n\t // font-family: sans-serif;\n\t // font:Gill Sans;\n        font-size: 45px;\n        font-weight: 500;\n    }\n"]);return N=function(){return e},e}function g(){var e=Object(E.a)(["\n\tdisplay: inline-block;\n\timg {\n\t\tdisplay: block\n\t\twidth: 40px;\n\t\theight: 40px;\n\t}\n"]);return g=function(){return e},e}var v="2px solid ".concat("#008080"),h=p.a.a(g()),y=p.a.section(N(),"#008080"),x=Object(p.a)(f.a)(b(),v),S=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{md:6},l.a.createElement(x,null,l.a.createElement("h3",null,e.firstName," ",e.lastName),l.a.createElement("p",null,l.a.createElement("strong",null,"Username:")," ",e.userName),l.a.createElement("p",null,l.a.createElement("strong",null,"Documents:")," ",e.documents))))},j=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"mt-2 rounded navbar navbar-expand-lg navbar-dark bg-secondary"},l.a.createElement("a",{className:"navbar-brand",href:"/main"},"DMS"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor01"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"/main"},"Home ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/users"},"Users")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/uploads"},"Uploads")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/downloads"},"Download"))),l.a.createElement("form",{className:"form-inline my-2 my-lg-0"},l.a.createElement("a",{href:"/addUser",className:"ml-2 btn btn-success my-2 my-sm-0",type:"submit"},"Add User")))))},D=t(71),C=t.n(D),k=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(j,null),l.a.createElement("div",{className:"mt-2 jumbotron"},l.a.createElement("h1",{className:"display-4"},"Document Management System"),l.a.createElement("p",{className:"lead"},"Upload important documents to Amazon S3."),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("p",null,"Store your documents and photos on an encrypted S3 bucket inside AWS"),l.a.createElement(d.a,{sm:"12",md:{size:8,offset:1}},l.a.createElement("img",{src:C.a,alt:"dms flow"}))))};var F=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null,l.a.createElement("h1",null,"DMS Main")),l.a.createElement(d.a,{sm:"12",md:{size:10,offset:2}},l.a.createElement(k,null)))},O=t(15),w=t(23),U=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null,l.a.createElement("h1",null,"DMS Uploads")),l.a.createElement(d.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement(j,null),l.a.createElement("div",{className:" mt-3 alert alert-success"},l.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert"},"\xd7"),l.a.createElement("h4",{className:"alert-heading"},"Upload your files to S3 Here!"),l.a.createElement("p",{className:"mb-0"},"Choose a file to upload to your AWS S3 bucket. Easy access to your AWS Console can be found ",l.a.createElement("a",{href:"https://aws.amazon.com/console/",className:"alert-link"},"here"),"."))))},I=t(20),z=t.n(I),A=function(e){return z.a.get("/api/getKey/",e)},M=function(e){var a=e.documents.split("C:").join(",").split("\\").join(",").split(",").pop();return e.documents=a,z.a.post("/api/signup",e)},K=t(42),B=function(){var e=Object(n.useState)({fileName:""}),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({data:[]}),m=Object(s.a)(c,2),o=m[0],i=m[1],u=t.fileName,E=o.data,p=E.accessID,f=E.secretID,b=new K.S3({accessKeyId:p,secretAccessKey:f,Bucket:"docusys"});Object(n.useEffect)(function(){A("jmartin").then(function(e){e&&i({data:e.data[0]})}).catch(function(e){return console.log("Error Getting Keys",e)})},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,null),l.a.createElement(d.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement("div",{className:"mt-3 form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"custom-file"},l.a.createElement("input",{type:"file",name:"fileName",className:"custom-file-input",id:"inputGroupFile02",value:u,onChange:function(e){var a=e.target,t=a.name,n=a.value;r(Object(w.a)({},u,Object(O.a)({},t,n)))}}),l.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile02"},"Choose file")),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"input-group-text",id:"",onClick:function(e){console.log("This is the filename",u),function(e){var a=e.split("C:").join(",").split("\\").join(",").split(",").pop();console.log("file to Name is",a),console.log("file to Upload is",e);var t={Bucket:"docusys",Key:a,Body:e};b.upload(t,function(e,a){if(e)throw e;console.log("File uploaded successfully. ".concat(a.Location))})}(u)}},"Upload"))))))},G=t(72),L=t.n(G),T=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement("ul",null,l.a.createElement(h,null,l.a.createElement("li",{className:"p-2"},e.Name),l.a.createElement("a",null,l.a.createElement("img",{src:L.a}))))))},q=(t(492),function(){var e=t(493),a=Object(n.useState)({files:[]}),r=Object(s.a)(a,2),c=r[0],m=r[1],o=Object(n.useState)({data:[]}),i=Object(s.a)(o,2),u=i[0],E=i[1],p=c.files,f=u.data,b=f.accessID,N=f.secretID,g=new e.S3({accessKeyId:b,secretAccessKey:N,Bucket:"docusys",S3BL_IGNORE_PATH:!0});Object(n.useEffect)(function(){A("jmartin").then(function(e){e&&E({data:e.data[0]})}).catch(function(e){return console.log("Error Getting Keys",e)})},[]);var v={Bucket:"docusys",MaxKeys:5,EncodingType:"url"};return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null,l.a.createElement("h1",null,"DMS Downloads")),l.a.createElement(d.a,{sm:"12",md:{size:10,offset:2}},l.a.createElement(j,null),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"input-group-text",name:"files",id:"",onClick:function(){g.listObjects(v,function(e,a){if(e)return e;m({files:a.Contents}),console.log("this is my data",a.Contents)})}},"Show Files")),p.length?l.a.createElement(l.a.Fragment,null,p.map(function(e){return l.a.createElement(T,{Name:e.Key})})):l.a.createElement("div",{className:"d-flex loading-spinner"},l.a.createElement("div",{className:"spinner-border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))))}),_=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"mt-2 rounded navbar navbar-expand-lg navbar-dark bg-secondary"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"DMS"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor01"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"/"},"Home ",l.a.createElement("span",{className:"sr-only"},"(current)")))),l.a.createElement("form",{className:"form-inline my-2 my-lg-0"},l.a.createElement("a",{href:"/",className:"ml-2 btn btn-success my-2 my-sm-0",type:"submit"},"Login"),l.a.createElement("a",{href:"/addUser",className:"ml-2 btn btn-success my-2 my-sm-0",type:"submit"},"Add User")))))},W=t(501),H=function(e,a){var t=Object(n.useState)(e),l=Object(s.a)(t,2),r=l[0],c=l[1];return{handleSubmit:function(e){e&&e.preventDefault(),a()},handleInputChange:function(e){e.persist(),c(function(a){return Object(w.a)({},a,Object(O.a)({},e.target.name,e.target.value))})},inputs:r}},J=function(){var e=H({firstName:"",lastName:"",userName:"",password:"",accessID:"",secretID:"",documents:""},function(){M(a).then(function(e){}).catch(function(e){return console.log("Database write error",e)}),alert("User Created! \n\t\t\tName: ".concat(a.firstName," ").concat(a.lastName,"\n\t\t\tUsername: ").concat(a.userName))}),a=e.inputs,t=e.handleInputChange,n=e.handleSubmit;return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null,l.a.createElement("h1",null,"DMS Sign Up")),l.a.createElement(d.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement(_,null),l.a.createElement("div",{className:"section is-fullheight"},l.a.createElement(d.a,{md:{size:12,offset:0},className:"container"},l.a.createElement("div",{className:"column is-4 is-offset-4"},l.a.createElement("div",{className:"box"},l.a.createElement("form",{onSubmit:n,autoComplete:"off"},l.a.createElement("div",{className:"mt-3 mb-3 input-group"},l.a.createElement("div",{className:"custom-file"},l.a.createElement("input",{type:"file",name:"documents",className:"custom-file-input",id:"inputGroupFile02",value:a.documents,onChange:t}),l.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile02"},"Upload your first file"))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label has-text-centered"},"First Name"),l.a.createElement("div",{className:"control"},l.a.createElement(W.a,{xs:"12"},l.a.createElement("input",{className:"ml-3 input",type:"text",name:"firstName",onChange:t,value:a.firstName,required:!0})))),l.a.createElement("div",{className:"mt-2 field"},l.a.createElement("label",{className:"label has-text-centered"},"Last Name"),l.a.createElement("div",{className:"control"},l.a.createElement(W.a,null,l.a.createElement("input",{className:"ml-3 input",type:"text",name:"lastName",onChange:t,value:a.lastName,required:!0})))),l.a.createElement("div",{className:"mt-2 field"},l.a.createElement("label",{className:"label has-text-centered"},"Username"),l.a.createElement("div",{className:"control"},l.a.createElement(W.a,null,l.a.createElement("input",{className:"ml-3 input",type:"text",name:"userName",onChange:t,value:a.userName,required:!0})))),l.a.createElement("div",{className:"mt-2 field"},l.a.createElement("label",{className:"label has-text-centered"},"Access ID"),l.a.createElement("div",{className:"control"},l.a.createElement(W.a,null,l.a.createElement("input",{className:"ml-3 input",type:"password",name:"accessID",onChange:t,value:a.accessID,required:!0})))),l.a.createElement("div",{className:"mt-2 field"},l.a.createElement("label",{className:"label has-text-centered"},"Secret ID"),l.a.createElement("div",{className:"control"},l.a.createElement(W.a,null,l.a.createElement("input",{className:"ml-3 input",type:"password",name:"secretID",onChange:t,value:a.secretID,required:!0})))),l.a.createElement(W.a,null,l.a.createElement("button",{className:"ml-3 mt-3 button is-block is-fullwidth is-success",type:"submit"},"Add User")))))))))},R=t(73),X=t.n(R),Y=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"mt-2 rounded navbar navbar-expand-lg navbar-dark bg-secondary"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"DMS"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor01"},l.a.createElement("ul",{className:"navbar-nav mr-auto"}),l.a.createElement("form",{className:"form-inline my-2 my-lg-0"},l.a.createElement("button",{className:" ml-2 btn-success text-light input-group-text",id:"",onClick:function(){X()({domain:"dev-r0mu0kil.auth0.com",client_id:"gJXOA5lqmYUuu1UMgADTaFBhbEXc9UQi"}).then(function(e){e.loginWithRedirect({redirect_uri:"https://gentle-peak-35355.herokuapp.com/main"}).then(function(a){e.getUser(a).then(function(e){console.log(e)})})})}},"Login")))))},P=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,null),l.a.createElement(d.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement("h4",{className:"mt-3"}," You must login to upload files ")))},Q=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null,l.a.createElement("h1",null,"Welcome to DMS")),l.a.createElement(d.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement(P,null)))},V=function(){var e=Object(n.useState)({userData:[]}),a=Object(s.a)(e,2),t=a[0],r=(a[1],t.userData);Object(n.useEffect)(function(){},[]);return l.a.createElement(m.a,null,l.a.createElement(u.a,null,l.a.createElement(o.a,null,l.a.createElement(i.a,{exact:!0,path:"/"},l.a.createElement(Q,null)),l.a.createElement(i.a,{exact:!0,path:"/main"},l.a.createElement(d.a,{md:12},l.a.createElement(F,null))),l.a.createElement(i.a,{exact:!0,path:"/users"},l.a.createElement(d.a,{md:12},l.a.createElement("h1",null,"DMS Users"),l.a.createElement(d.a,{sm:"12",md:{size:10,offset:2}},l.a.createElement(j,null),r.length?l.a.createElement(l.a.Fragment,null,r.map(function(e){return l.a.createElement(S,{firstName:e.firstName,lastName:e.lastName,userName:e.userName,documents:e.documents?e.documents:"No Documents Found"})})):l.a.createElement("div",{className:"d-flex loading-spinner"},l.a.createElement("div",{className:"spinner-border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))))),l.a.createElement(i.a,{exact:!0,path:"/uploads"},l.a.createElement(d.a,{md:12},l.a.createElement(B,null))),l.a.createElement(i.a,{exact:!0,path:"/downloads"},l.a.createElement(q,null)),l.a.createElement(i.a,{exact:!0,path:"/addUser"},l.a.createElement(J,null)))))};t(495);c.a.render(l.a.createElement(V,null),document.getElementById("root"))},71:function(e,a,t){e.exports=t.p+"static/media/dms_flow.2549cf49.png"},72:function(e,a,t){e.exports=t.p+"static/media/S3_icon.074a7d63.png"},76:function(e,a,t){e.exports=t(496)}},[[76,1,2]]]);
//# sourceMappingURL=main.8ab9202c.chunk.js.map